#### 1 本地消息表（MQ）
##### 创新点：
1. 解决分布式事务问题
2. 解决消息重发问题
##### 背景：
1. 现有mq发送 与业务逻辑不在一个事物控制中，可能引发分布式事务问题
```
 eg:
 doSomeThing(){
    do thingA ...
    
    sendMq();
    
    doThingB ... // 此处发生异常，事物回滚，但mq已成功发送
 
 }
 
 ```
2. 现有MQ消息保存有时间限制，过久的消息无法重发

##### 实现方式
```
mq消息跟随本地事务入本地库（官方的反查本地事务可省略【减少代码量】）
定时任务扫描发送
加入了服务注册中心（发送不频繁可不配置）（目前暂时Redis；zk,nacos 后期也可兼容[可选择性配置]）
```
[图解](https://github.com/xiaomingxian/help-doc/blob/main/%E5%88%9B%E6%96%B0/pic/%E6%B5%81%E7%A8%8B%E5%9B%BE.jpg)


<hr>

##### 2 日志starter (hr-log-record-starter)
##### 创新点
1. 定义的日志规范
2. 方便记录重要信息前后对比
3. 支持MQ发送消息 可供多系统使用
##### 背景：
1. 现有日志没有一个统一的规范 
2. 无法查询重要信息前后变化对比
3. 一份重要的日志不支持多系统可见
##### 实现方式
切面 
EL表单式（支持自定义方法调用，参数解析） 
支持本地接入消息(接口规范)/通过MQ接受

<hr>

#### 工单通用组建解析包
#### 创新点
1. 统一组建解析方式，减少风险
2. 提供公共解析方式，减少重复开发量
3. 对新组建兼容
##### 背景
1. 很多系统的业务需要解析工单表单内容 但没有个统一的规范
2. 其他系统按自己的理解去解析工单组建，有一定风险
3. 每个系统都去解析，增加了工作量
4. 工单出新组建时，其他系统也要去增加解析代码去兼容新组建










